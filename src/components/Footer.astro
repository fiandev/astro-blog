---
import { SITE_TITLE } from "../consts";
import { createTranslator } from "../locales";

const { lang } = Astro.params;
const currentLang = lang || "en";
const __ = createTranslator(currentLang as "id" | "en");

// Helper untuk link internal agar selalu membawa prefix bahasa
const localLink = (path: string) => {
  const cleanPath = path.startsWith("/") ? path.slice(1) : path;
  return `/${currentLang}/${cleanPath}`;
};
---

<footer
  class="bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 py-4"
>
  <div class="container mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8">
    <div
      class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0"
    >
      <p class="text-sm text-gray-500 dark:text-gray-400">
        &copy; {new Date().getFullYear()}
        <span class="text-indigo-600 dark:text-indigo-400">{SITE_TITLE}</span>.
        All Rights Reserved.
      </p>
      <div class="flex space-x-6">
        <a
          href={localLink("privacy-policy")}
          class="text-sm text-gray-500 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-300 transition-colors"
          >{__("Privacy Policy")}</a
        >
        <a
          href={localLink("terms-of-service")}
          class="text-sm text-gray-500 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-300 transition-colors"
          >{__("Terms of Service")}</a
        >
        <a
          href={localLink("disclaimer")}
          class="text-sm text-gray-500 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-300 transition-colors"
          >{__("Disclaimer")}</a
        >
      </div>
    </div>
  </div>
</footer>
